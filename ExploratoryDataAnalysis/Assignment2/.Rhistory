source("iris")
library(datasets)
data(iris)
mean(iris[,"Sepal.Length"])
iris[,"Sepal.Length"]
names(iris)
x<- iris[ iris$Species == "virginica"]
x<- iris[ iris$Species == "virginica"]
x<- iris[ iris[,"Species"] == "virginica"]
iris[,Species]
iris[,"Species]
""
"
iris[,"Species"]
x <- split(iris, "virginica")
x
mean(ix[,"Sepal.Length"])
mean(x[,"Sepal.Length"])
x<- iris[ iris[,"Species"] == "virginica"]
names(iris)
x<- iris[ iris[,5] == "virginica"]
x<- iris[,iris[,"Species"] == "virginica"]
x<- iris[iris[,"Species"] == "virginica",]
x
mean(x[,"Sepal.Length"])
apply(iris[, 1:4], 2, mean)
library(datasets)
data(mtcars)
sapply(split(mtcars$mpg, mtcars$cyl), mean)
sapply(mtcars, cyl, mean)
h<-sapply(split(mtcars$hp, mtcars$cyl), mean)
h[3]-h[1]
h
library(swirl)
swirl()
install.packages("swirl")
library(swirl)
swirl()
5 + 7
x <- 5+ 7
x
y <- x - 3
y
z <- c(1.1,9, 3.14)
?corr
?cor
?c
z
c(z,555,z)
z*2+100
my_sqrt <- sqrt(z-1)
my_sqrt
my_div(c/my_sqrt)
my_div <- c/my_sqrt
my_div <- z/my_sqrt
my_div
c(1,2,3,4) + c(0, 10)
1:4+ c(0,10,100)
c(1,2,3,4)+ c(0,10,100)
z*2+1000
my_div
library(datasets)
data(iris)
names(iris)
mean(iris$Sepal.Length)
apply(iris[, 1:4], 1, mean)
apply(iris[, 1:4], 2, mean)
library(datasets)
data(mtcars)
?mtcars
names(mtcars)
with(mtcars, tapply(mpg, cyl, mean))
tapply(mtcars$cyl, mtcars$mpg, mean)
with(mtcars, tapply(hp, cyl, mean))
a<-with(mtcars, tapply(hp, cyl, mean))
a$8 - a$4
a[,3]
209.21429-82.63636
a[3]
a[3]- a[1]
debug(ls)
ls
ls()
library(datasets)
data(iris)
mean(iris$Sepal.Length)
names(iris)
mean(iris[iris$Species == "virginica", "Sepal.Length"])
library(datasets)
data(mtcars)
sapply(split(mtcars$mpg, mtcars$cyl), mean)
lybrary("lattice")
library("lattice")
help(xplot)
help(xyplot)
xyplot()
class(xyplot(x,rnorm(100)))
class(xyplot(rnorm(100),rnorm(100)))
class(xyplot(rnorm(100),data.frame(rnorm(100)))
)
class(xyplot(.~.,data.frame(rnorm(100)))
)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(datasets)
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(ggplot)
library("ggplot")
library("ggplot2")
install.packages("ggplot2")
library("ggplot2")
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
qplot(Wind, Ozone, data = airquality, geom = "smooth")
a <-ggplot(Wind, Ozone, data = airquality, geom = "smooth")
a <-ggplot(airquality)
a
qplot(votes, rating, data = movies)
qplot(votes, rating, data = movies) + geom_smooth()
qplot(votes, rating, data = movies, smooth = "loess")
qplot(votes, rating, data = movies) + stats_smooth("loess")
qplot(votes, rating, data = movies, panel = panel.loess)
setwd("~/Documents/git_repos/datasciencecoursera/ExploratoryDataAnalysis/Assignment2")
NEI <- readRDS("exdata_data_NEI_data/summarySCC_PM25.rds")
SCC <- readRDS("exdata_data_NEI_data/Source_Classification_Code.rds")
summary(NEI)
names(NEI)
plot(NEY$year, NEI$Emissions)
plot(NEI$year, NEI$Emissions)
plot(NEI[1:100,"year"], NEI$[1:100,"Emissions"])
unique(NEI$Pollutant)
NEI1 <- aggregate(Emissions ~ year, NEI[1:100,c("year", "Emissions"], group, sum)
NEI1 <- aggregate(Emissions ~ year, NEI[1:100,c("year", "Emissions")], group, sum)
NEI1 <- aggregate(Emissions ~ year, NEI[1:100,c("year", "Emissions")], sum)
summary(NEI1)
Nei1
head(NEI1)
NEI1 <- aggregate(Emissions ~ year, NEI[,c("year", "Emissions")], sum)
head(NEI1)
plot(NEI1)
plot(NEI1, type="l")
#plot1
png("plot1.png")
pl1 <- plot(NEIbyYear, type="l")
dev.off()
#plot1
png("plot1.png")
pl1 <- plot(NEI1, type="l")
dev.off()
NEIbyYear <- aggregate(Emissions ~ year, NEI, sum)
summary(NEIbyYear)
EmissionsBaltimoreByYear <- aggregate(Emissions ~ year, NEI[NEI$flips == "24510",c("year", "Emissions")], sum)
EmissionsBaltimoreByYear <- aggregate(Emissions ~ year, NEI[NEI$fips == "24510",c("year", "Emissions")], sum)
summary(EmissionsBaltimoreByYear)
plot(EmissionsBaltimoreByYear)
pl2 <- plot(EmissionsBaltimoreByYear, type="l")
pl1
plot(EmissionsByYear, type="l")
plot(NEI1, type="l")
plot(EmissionsBaltimoreByYear, type="l", main="Emissions in Baltimore")
EmissionsByYear <- aggregate(Emissions ~ year, NEI[,c("year", "Emissions")], sum)
EmissionsBaltimoreByYear <- aggregate(Emissions ~ year, NEI[NEI$fips == "24510",c("year", "Emissions")], sum)
#plot1
png("plot1.png")
plot(EmissionsByYear, type="l", main="Overal Emissions")
dev.off()
#plot2
png("plot2.png")
plot(EmissionsBaltimoreByYear, type="l", main="Emissions in Baltimore")
dev.off()
EmissionsByYear <- aggregate(Emissions ~ year, NEI[,c("year", "Emissions")], sum)
EmissionsBaltimoreByYear <- aggregate(Emissions ~ year, NEI[NEI$fips == "24510",c("year", "Emissions")], sum)
png("plot1.png")
plot(EmissionsByYear, type="l", main="Overal Emissions")
dev.off()
png("plot2.png")
plot(EmissionsBaltimoreByYear, type="l", main="Emissions in Baltimore")
dev.off()
EmissionsByYearAndType <- aggregate(Emissions ~ year | type | fip, NEI, sum)
EmissionsByYearAndType <- aggregate(Emissions ~ year + type + fip, NEI, sum)
EmissionsByYearAndType <- aggregate(Emissions ~ year + type + fips, NEI, sum)
summary(EmissionsByYearAndType)
EmissionsByYearAndType1 <- agregate(Emissions ~ year + type, EmissionsByYearAndType, sum)
EmissionsByYearAndType1 <- aggregate(Emissions ~ year + type, EmissionsByYearAndType, sum)
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips = "24510", ], aes(x = "year", y= "Emissions")) + geom(color = "type")
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom(color = "type")
lybrary(ggplot2)
library(ggplot2)
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom(color = "type")
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom_points(color = "type")
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom_point(color = "type")
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom_points(color = type)
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom_point(color = type)
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom_point(color = EmissionsByYearAndType1$type)
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = "year", y= "Emissions")) + geom_point(aes(colour = EmissionsByYearAndType1$type))
summary(EmissionsByYearAndType1)
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = year, y= Emissions)) + geom_point(aes(colour = EmissionsByYearAndType1$type))
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ], aes(x = year, y= Emissions)) + geom_point(aes(colour = EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ]$type))
summary(EmissionsByYearAndType1[EmissionsByYearAndType1$fips == "24510", ])
summary(EmissionsByYearAndType1[EmissionsByYearAndType1, ])
summary(EmissionsByYearAndType1)
summary(EmissionsByYearAndType1[EmissionsByYearAndType$fips == "24510", ])
summary(EmissionsByYearAndType[EmissionsByYearAndType$fips == "24510", ])
ggplot(EmissionsByYearAndType1[EmissionsByYearAndType, aes(x = EmissionsByYearAndType$year, y= EmissionsByYearAndType$Emissions)) + geom_point(aes(colour = EmissionsByYearAndType$type))
ggplot(EmissionsByYearAndType, aes(x = EmissionsByYearAndType$year, y= EmissionsByYearAndType$Emissions)) + geom_point(aes(colour = EmissionsByYearAndType$type))
EmissionsByYearAndType1  <- aggregate(Emissions ~ year + type, EmissionsByYearAndType, sum)
ggplot(EmissionsByYearAndType1, aes(x = EmissionsByYearAndType1$year, y= EmissionsByYearAndType1$Emissions)) + geom_point(aes(colour = EmissionsByYearAndType1$type))
ggplot(EmissionsByYearAndType1, aes(x = EmissionsByYearAndType1$year, y= EmissionsByYearAndType1$Emissions)) + geom_line(aes(colour = EmissionsByYearAndType1$type))
EmissionsByYearAndTypeInBaltimore <- EmissionsByYearAndType[EmissionsByYearAndType$fips = "24510"]
EmissionsByYearAndTypeInBaltimore <- EmissionsByYearAndType[EmissionsByYearAndType$fips == "24510"]
EmissionsByYearAndTypeInBaltimore <- EmissionsByYearAndType[EmissionsByYearAndType$fips == "24510",]
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions)) + geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions)) + geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+xlab("Emission") +
ylab("Years") +ggtitle("Emissions in Baltimore")
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions)) + geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+scale_colour_manual(name="Type")+xlab("Emission") +
ylab("Years") +ggtitle("Emissions in Baltimore")
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions)) + geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+scale_colour_discrete(name="Type")+xlab("Emission") +
ylab("Years") +ggtitle("Emissions in Baltimore")
png("plot3.png")
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions))
+geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))
+scale_colour_discrete(name="Type")
+ggtitle("Emissions in Baltimore")
+ylab("Years")+xlab("Emission")
dev.off()
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions))
+geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))
+scale_colour_discrete(name="Type")
+ggtitle("Emissions in Baltimore")
+ylab("Years")+xlab("Emission")
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions))+
+geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+
+scale_colour_discrete(name="Type")+
+ggtitle("Emissions in Baltimore")+
+ylab("Years")+xlab("Emission")
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions))+
geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+
scale_colour_discrete(name="Type")+ggtitle("Emissions in Baltimore")+ylab("Years")+xlab("Emission")
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions))+
geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+
scale_colour_discrete(name="Type")+ggtitle("Emissions in Baltimore")+
ylab("Years")+
xlab("Emission")
png("plot3.png")
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions))+
geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+
scale_colour_discrete(name="Type")+
ggtitle("Emissions in Baltimore")+
ylab("Years")+xlab("Emission")
dev.off()
summary(SCC)
head(SCC)
SCC[1:20, 3:4]
unique(SCC[, 4])
NEI[1,]
RelevantSCC <- SCC[(SCC$EI.Sector == "Fuel Comb - Electric Generation - Coal") |
(SCC$EI.Sector == "Fuel Comb - Comm/Institutional - Coal")  |
(SCC$EI.Sector == "Fuel Comb - Industrial Boilers, ICEs - Coal"), SCC]
RelevantSCC <- SCC[(SCC$EI.Sector == "Fuel Comb - Electric Generation - Coal") |
(SCC$EI.Sector == "Fuel Comb - Comm/Institutional - Coal")  |
(SCC$EI.Sector == "Fuel Comb - Industrial Boilers, ICEs - Coal"), "SCC"]
nrow(RelevantSCC)
summary(RelevantSCC)
length(RelevantSCC)
length(unique(RelevantSCC)
)
CoalEmissions <- subset(NEI, SCC %in% RelevantSCC)
CoalEmissions <- subset(NEI, SCC %in% RelevantSCC)
CoalEmissions <- aggreagate(Emissions ~ year, subset(NEI, SCC %in% RelevantSCC), sum)
plot(CoalEmissions)
CoalEmissions <- aggregate(Emissions ~ year, subset(NEI, SCC %in% RelevantSCC), sum)
plot(CoalEmissions)
summary(CoalEmissions)
head(CoalEmissions)
plot(CoalEmissions)
plot(CoalEmissions, type="l")
plot(CoalEmissions, type="l", main="o")
plot(CoalEmissions, type="l", main="Emissions from coal combustion-related sources")
names(SCC)
unique(SCC[,2])
unique(SCC[,3])
names(SCC)
unique(SCC[,5])
unique(SCC[,6])
unique(SCC[,7])
unique(SCC[,8])
unique(SCC[,4])
RelevantSCC <- SCC[  (SCC$EI.Sector == "Mobile - On-Road Diesel Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Diesel Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Locomotives") |
(SCC$EI.Sector == "Mobile - Aircraft") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Heavy Duty Vehicles")  |
(SCC$EI.Sector == "Mobile - Non-Road Equipment - Gasoline"), "SCC"]
VehicleEmission <- aggregate(Emissions ~ year, subset(NEI, SCC %in% RelevantSCC), sum)
plot(VehicleEmission, type="l", main="Emissions from motor vehicle sources")
names(VehicleEmission )
head(VehicleEmission)
sum(is.na(VehicleEmission))
sum(is.na(VehicleEmission[,1]))
sum(is.na(VehicleEmission[,2]))
plot(VehicleEmission, type="l", main="Emissions from motor vehicle sources")
VehicleEmission <- aggregate(Emissions ~ year, subset(NEI[NEI$fips == "24510",], SCC %in% RelevantSCC), sum)
plot(VehicleEmission, type="l", main="Emissions from motor vehicle sources")
VehicleEmission <- aggregate(Emissions ~ year+fips, subset(NEI[NEI$fips == "24510" | NEI$fips == "24510",], SCC %in% RelevantSCC), sum)
ggplot(VehicleEmission, aes(x=VehicleEmission$years, y=VehicleEmission$Emissions))+geom_point(aes(colour=VehicleEmission$fips))+ggtitle("Emissions from motor vehicle sources")
VehicleEmission <- aggregate(Emissions ~ year+fips, subset(NEI[NEI$fips == "24510" | NEI$fips == "24510",], SCC %in% RelevantSCC), sum)
ggplot(VehicleEmission, aes(x=VehicleEmission$years, y=VehicleEmission$Emissions))+geom_point(aes(colour=VehicleEmission$fips))+ggtitle("Emissions from motor vehicle sources")
head(VehicleEmission)
ggplot(VehicleEmission, aes(x=VehicleEmission$years, y=VehicleEmission$Emissions))+geom_line(aes(colour=VehicleEmission$fips))+ggtitle("Emissions from motor vehicle sources")
ggplot(VehicleEmission, aes(x=VehicleEmission$year, y=VehicleEmission$Emissions))+geom_line(aes(colour=VehicleEmission$fips))+ggtitle("Emissions from motor vehicle sources")
VehicleEmission <- aggregate(Emissions ~ year+fips, subset(NEI[NEI$fips == "24510" | NEI$fips == "06037",], SCC %in% RelevantSCC), sum)
ggplot(VehicleEmission, aes(x=VehicleEmission$year, y=VehicleEmission$Emissions))+geom_line(aes(colour=VehicleEmission$fips))+ggtitle("Emissions from motor vehicle sources")
fips <- sapply(VehicleEmission$fips, function(x){ if (x == "24510"){"Baltimore City"} else{"Los Angeles County"}})
length(fips)
length(VehicleEmission$fips)
VehicleEmission$fips <- fips
head(VehicleEmission)
RelevantSCC <- SCC[(SCC$EI.Sector == "Mobile - On-Road Diesel Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Diesel Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Locomotives") |
(SCC$EI.Sector == "Mobile - Aircraft") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Non-Road Equipment - Gasoline"), "SCC"]
VehicleEmission <- aggregate(Emissions ~ year+fips, subset(NEI[NEI$fips == "24510" | NEI$fips == "24510",], SCC %in% RelevantSCC), sum)
fips <- sapply(VehicleEmission$fips, function(x){ if (x == "24510"){"Baltimore City"} else{"Los Angeles County"}})
VehicleEmission$fips <- fips
ggplot(VehicleEmission, aes(x=VehicleEmission$year, y=VehicleEmission$Emissions))+
geom_line(aes(colour=VehicleEmission$fips))+
scale_colour_discrete(name="Type")+
ggtitle("Emissions from motor vehicle sources")
RelevantSCC <- SCC[(SCC$EI.Sector == "Mobile - On-Road Diesel Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Diesel Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Locomotives") |
(SCC$EI.Sector == "Mobile - Aircraft") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Non-Road Equipment - Gasoline"), "SCC"]
VehicleEmission <- aggregate(Emissions ~ year+fips, subset(NEI[NEI$fips == "24510" | NEI$fips == "06037",], SCC %in% RelevantSCC), sum)
fips <- sapply(VehicleEmission$fips, function(x){ if (x == "24510"){"Baltimore City"} else{"Los Angeles County"}})
VehicleEmission$fips <- fips
ggplot(VehicleEmission, aes(x=VehicleEmission$year, y=VehicleEmission$Emissions))+
geom_line(aes(colour=VehicleEmission$fips))+
scale_colour_discrete(name="Type")+
ggtitle("Emissions from motor vehicle sources")
png("plot6.png")
ggplot(VehicleEmission, aes(x=VehicleEmission$year, y=VehicleEmission$Emissions))+
geom_line(aes(colour=VehicleEmission$fips))+
scale_colour_discrete(name="Type")+
ggtitle("Emissions from motor vehicle sources")
dev.off()
png("plot4.png")
RelevantSCC <- SCC[(SCC$EI.Sector == "Fuel Comb - Electric Generation - Coal") |
(SCC$EI.Sector == "Fuel Comb - Comm/Institutional - Coal")  |
(SCC$EI.Sector == "Fuel Comb - Industrial Boilers, ICEs - Coal"), "SCC"]
CoalEmissions <- aggregate(Emissions ~ year, subset(NEI, SCC %in% RelevantSCC), sum)
plot(CoalEmissions, type="l", main="Emissions from coal combustion-related sources")
dev.off()
png("plot5.png")
RelevantSCC <- SCC[(SCC$EI.Sector == "Mobile - On-Road Diesel Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Diesel Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Locomotives") |
(SCC$EI.Sector == "Mobile - Aircraft") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Non-Road Equipment - Gasoline"), "SCC"]
VehicleEmission <- aggregate(Emissions ~ year, subset(NEI[NEI$fips == "24510",], SCC %in% RelevantSCC), sum)
plot(VehicleEmission, type="l", main="Emissions from motor vehicle sources")
dev.off()
png("plot3.png")
EmissionsByYearAndType   <- aggregate(Emissions ~ year + type + fips, NEI, sum)
EmissionsByYearAndTypeInBaltimore <- EmissionsByYearAndType[EmissionsByYearAndType$fips == "24510",]
ggplot(EmissionsByYearAndTypeInBaltimore, aes(x = EmissionsByYearAndTypeInBaltimore$year, y= EmissionsByYearAndTypeInBaltimore$Emissions))+
geom_line(aes(colour = EmissionsByYearAndTypeInBaltimore$type))+
scale_colour_discrete(name="Type")+
ggtitle("Emissions in Baltimore")+
xlab("Years")+ylab("Emission")
dev.off()
png("plot6.png")
RelevantSCC <- SCC[(SCC$EI.Sector == "Mobile - On-Road Diesel Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Diesel Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Locomotives") |
(SCC$EI.Sector == "Mobile - Aircraft") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Non-Road Equipment - Gasoline"), "SCC"]
VehicleEmission <- aggregate(Emissions ~ year+fips, subset(NEI[NEI$fips == "24510" | NEI$fips == "06037",], SCC %in% RelevantSCC), sum)
fips <- sapply(VehicleEmission$fips, function(x){ if (x == "24510"){"Baltimore City"} else{"Los Angeles County"}})
VehicleEmission$fips <- fips
ggplot(VehicleEmission, aes(x=VehicleEmission$year, y=VehicleEmission$Emissions))+
geom_line(aes(colour=VehicleEmission$fips))+
scale_colour_discrete(name="Type")+
ggtitle("Emissions from motor vehicle sources")+
xlab("Years")+ylab("Emission")
dev.off()
png("plot5.png")
RelevantSCC <- SCC[(SCC$EI.Sector == "Mobile - On-Road Diesel Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Diesel Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Locomotives") |
(SCC$EI.Sector == "Mobile - Aircraft") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Light Duty Vehicles") |
(SCC$EI.Sector == "Mobile - On-Road Gasoline Heavy Duty Vehicles") |
(SCC$EI.Sector == "Mobile - Non-Road Equipment - Gasoline"), "SCC"]
VehicleEmission <- aggregate(Emissions ~ year, subset(NEI[NEI$fips == "24510",], SCC %in% RelevantSCC), sum)
plot(VehicleEmission, type="l", main="Emissions from motor vehicle sources in Baltimore")
dev.off()
